<!doctype html>
<html lang="">
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>lasvegas</title>

    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="stylesheet" href="styles/bootstrap.min.css">
    <link rel="stylesheet" href="styles/main.css">

</head>
<body>

<div class="sidebar">
    <h1 class="sidebar__title">Las Vegas</h1>

    <div class="sidebar__search input-group">
        <input type="text" class="form-control" placeholder="Search ..."
            data-bind="textInput: search">
        <div class="input-group-addon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></div>
    </div>

    <div class="sidebar__list" data-bind="foreach: places.places">
        <label class="sidebar__item" data-bind="visible: visible, css: {'sidebar__item--selected': selected}">
            <input  class="sidebar__checkbox" type="checkbox" data-bind="checked: selected">
            <p class="sidebar__name" data-bind='text: name'></p>
            <p class="sidebar__location" data-bind='text: location'></p>
        </label>
    </div>
</div>

<div id="map"></div>

<div class="modal fade" id="modal" tabindex="-1" role="dialog" data-bind="with: infos">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header" data-bind="with: place">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" data-bind="text: name"></h4>
                <p class="modal-title" data-bind="text: location"></p>
            </div>
            <div class="modal-body" data-bind="with: apis">
                <div data-bind="foreach: apis">
                    <button type="button" class="btn btn-primary btn-api"
                            data-bind="text: name, click: $parent.setActive, css: {disabled: $parent.active() === $data}">
                    </button>
                </div>
                <div class="infos-content" data-bind="with: active()">
                    <div class="yelp" data-bind="visible: name == 'Yelp'">
                        <div data-bind="visible: rating() && !error()">
                            <p>Rating: <span data-bind="text: rating"></span></p>
                            <p><img src="" data-bind="attr: { src: rating_image_link}"></p>
                            <p>Number of reviews: <span data-bind="text: review_count"></span></p>

                            <a target="_blank" data-bind="attr: { href: link}">
                                <img src="//s3-media4.fl.yelpcdn.com/assets/srv0/developer_pages/c2e071437bfb/assets/img/yelp_review_btn_red@2x.png" alt="Reviews from Yelp, red" width="140" height="30">
                            </a>
                        </div>
                        <p data-bind="visible: error">
                            Sorry we couldn't retrieve any informations from Yelp.
                        </p>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script src="scripts/vendor/jquery.min.js"></script>
<script src="scripts/vendor/bootstrap.min.js"></script>
<script src="scripts/vendor/knockout.js"></script>
<script src="scripts/vendor/oauth-signature.js"></script>
<script src="scripts/main.js"></script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB_yipln8MQDbTgBMISVAeosciiG-1bAkY&callback=onMapLoaded">
</script>

</body>
</html>
